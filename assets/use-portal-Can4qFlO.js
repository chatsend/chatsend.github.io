import{v as b}from"./QDrawer-DnAqWEvD.js";import{z as P,W as h,j as x,V as T,A as p,f as $,g as v,a3 as D,U as C,k as g,a4 as F,a5 as k,a6 as S}from"./index-COsEbBXI.js";import{b as m,p as u,d as w}from"./portal-Y6RDWP2H.js";function j(){let e;const n=P();function o(){e=void 0}return h(o),x(o),{removeTick:o,registerTick(t){e=t,T(()=>{e===t&&(b(n)===!1&&e(),e=void 0)})}}}const N={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function O(e,n=()=>{},o=()=>{}){return{transitionProps:p(()=>{const t=`q-transition--${e.transitionShow||n()}`,a=`q-transition--${e.transitionHide||o()}`;return{appear:!0,enterFromClass:`${t}-enter-from`,enterActiveClass:`${t}-enter-active`,enterToClass:`${t}-enter-to`,leaveFromClass:`${a}-leave-from`,leaveActiveClass:`${a}-leave-active`,leaveToClass:`${a}-leave-to`}}),transitionStyle:p(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const A=$({name:"QPortal",setup(e,{slots:n}){return()=>n.default()}});function G(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function U(e,n,o,t){const a=v(!1),s=v(!1);let r=null;const i={},f=t==="dialog"&&G(e);function y(l){if(l===!0){m(i),s.value=!0;return}s.value=!1,a.value===!1&&(f===!1&&r===null&&(r=k(!1,t)),a.value=!0,u.push(e.proxy),w(i))}function c(l){if(s.value=!1,l!==!0)return;m(i),a.value=!1;const d=u.indexOf(e.proxy);d!==-1&&u.splice(d,1),r!==null&&(S(r),r=null)}return D(()=>{c(!0)}),e.proxy.__qPortal=!0,C(e.proxy,"contentEl",()=>n.value),{showPortal:y,hidePortal:c,portalIsActive:a,portalIsAccessible:s,renderPortal:()=>f===!0?o():a.value===!0?[g(F,{to:r},g(A,o))]:void 0}}export{j as a,O as b,U as c,N as u};
